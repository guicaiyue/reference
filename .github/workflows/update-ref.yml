name: ÊØè8‰∏™Â∞èÊó∂Êõ¥Êñ∞‰∏ÄÊ¨°reference
on:
  schedule:
    - cron: '21 */8 * * *' # ÂÆöÊó∂‰ªªÂä°
  workflow_dispatch:       # ÊâãÂä®ËøêË°å

env: # ËÆæÁΩÆÁéØÂ¢ÉÂèòÈáè
  TZ: Asia/Shanghai # Êó∂Âå∫ÔºàËÆæÁΩÆÊó∂Âå∫ÂèØ‰ΩøÈ°µÈù¢‰∏≠ÁöÑ`ÊúÄËøëÊõ¥Êñ∞Êó∂Èó¥`‰ΩøÁî®Êó∂Âå∫Êó∂Èó¥Ôºâ

jobs:
  build: # Ëá™ÂÆö‰πâÂêçÁß∞
    runs-on: ubuntu-latest
    steps:
      - name: üöú ÊãâÂèñÊúÄÊñ∞‰ª£Á†Å
        uses: actions/checkout@v3
        with:
          ref: 'main'
          repository: 'jaywcjlove/reference'

      - name: ‚ôªÔ∏è ÁºñËØëÈùôÊÄÅÊñá‰ª∂
        run: |
          echo -e 'REF_URL=https://xirizhi.cn/\nREF_LABEL=ÊòîÊó•ÈïøÂªä\nREF_FOOTER=Â§áÊ°àÂè∑ÔºöÊπòICPÂ§á20004782Âè∑-2' > .env
          npm install
          npm run build

      - name: üöÅ ÈÉ®ÁΩ≤Âà∞ÊúçÂä°Âô®
        uses: wlixcc/SFTP-Deploy-Action@v1.0
        with:
          username: 'root'   #ssh user name
          port: '22' # ËøúÁ®ãÊúçÂä°Âô®sshÁ´ØÂè£ÔºåÈªòËÆ§22
          server: '${{ secrets.SERVER_IP }}' # ËøúÁ®ãÊúçÂä°Âô®IP
          ssh_private_key: '-----BEGIN OPENSSH PRIVATE KEY-----\n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\n-----END OPENSSH PRIVATE KEY-----' # ËÆ§ËØÅÊúçÂä°Âô®ÁßòÈí•ÂØπÁöÑÁßÅÈí•
          local_path: './dist/*'  # ÂØπÂ∫îÊàë‰ª¨È°πÁõÆÊâìÂåÖÂêéÁöÑÈùôÊÄÅÊñá‰ª∂Ë∑ØÂæÑ
          remote_path: '~/static-html/reference' # ÊúçÂä°Âô®‰∏äÁöÑË∑ØÂæÑ
          delete_remote_files: true
